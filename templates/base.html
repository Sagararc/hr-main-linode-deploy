<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <title>HR ADMIN</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta content="Premium Multipurpose Admin & Dashboard Template" name="description" />
  <meta content="" name="author" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />

  <!-- App favicon -->
  <link rel="shortcut icon" href="/static/images/favicon.ico">

  <!-- jvectormap -->
  <link href="/static/plugins/jvectormap/jquery-jvectormap-2.0.2.css" rel="stylesheet">
  <style>
  

    .col-md-3{
        margin-left: 100px;
        border: 1px dotted black;
    }
   
</style>



  <!-- App css -->
  <link href="/static/css/bootstrap.min.css" rel="stylesheet" type="text/css" />
  <link href="/static/css/jquery-ui.min.css" rel="stylesheet">
  <link href="/static/css/icons.min.css" rel="stylesheet" type="text/css" />
  <link href="/static/css/metisMenu.min.css" rel="stylesheet" type="text/css" />
  <link href="/static/plugins/daterangepicker/daterangepicker.css" rel="stylesheet" type="text/css" />
  <link href="/static/css/app.min.css" rel="stylesheet" type="text/css" />
  <link rel="stylesheet" href="/static/css/form.css">
  <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">




    
    
      
</head>

<body class="dark-sidenav" >
  <!-- Left Sidenav -->
  <div class="left-sidenav">
    <!-- LOGO -->
    <div class="row">
      <div class="brand col-md-3 mt-4 ml-4" >
        <a href="/dash">
          <span>
            <h1 style="color : white;">HR ADMIN</h1>
          </span>
          <br />
  
  
  
        </a>
  
      </div>

    </div>
    
    <br />
    <br />
    <!--end logo-->
    <div class="menu-content h-100" data-simplebar>
      <ul class="metismenu left-sidenav-menu" style="font-size: 20px; width:600px;">
        <i></i>
        <li>
          <a href="/dash"> <i class="fas fa-chart-line"
              class="align-self-center menu-icon"></i><span>Dashboard</span></a>

        </li>
        <br />
        <li>
          <a href="/home"> <i class="fas fa-user-plus" class="align-self-center menu-icon"></i><span>User
              Management</span></a>

        </li>
        <br />
        <li>
          <a href="/city"> <i class="fas fa-gas-pump" class="align-self-center menu-icon"></i><span>City
              Management</span></a>

        </li>

        <br />
       
      </ul>


    </div>
  </div>
  <!-- end left-sidenav-->


  <div class="page-wrapper">
    <!-- Top Bar Start -->
    <div class="topbar  ">
      <!-- Navbar -->
      <nav class="navbar-custom " style="background-color : #053387">
        <ul class="list-unstyled topbar-nav float-right mb-0">



          <li class="dropdown">
            <div class="dropdown">
                <a class="nav-link dropdown-toggle waves-effect waves-light nav-user" data-toggle="dropdown" href="#"
                   role="button" aria-haspopup="false" aria-expanded="false">
                    <div class="avatar-box thumb-md align-self-center mr-2">
                        <span class="avatar-title bg-purple rounded-circle" style="font-size :x-large;"> 
                            {{ username|slice:":1"|upper }}
                        </span>
                    </div>
                </a>
               
                <div class="dropdown-menu dropdown-menu-right shadow" aria-labelledby="userDropdown">
                    <div class="card border">
                        <div class="card-body">
                            <h5 class="card-title mb-0">Hello, {{ username }}</h5>
                           
                            <a class="btn btn-danger mt-4" href="{% url 'logout' %}">
                                 Logout
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </li>
        
        </ul><!--end topbar-nav-->

        <ul class="list-unstyled topbar-nav mb-0">


        </ul>
      </nav>
      <!-- end navbar-->

    </div>
    <div class="row">
      <div class="col-md-12">
        {% block content %}
        {% endblock %}
      </div>
    </div>

  

    <script src="/static/js/jquery.min.js"></script>
    <script src="/static/js/bootstrap.bundle.min.js"></script>
    <script src="/static/js/metismenu.min.js"></script>
    <script src="/static/js/waves.js"></script>
    <script src="/static/js/feather.min.js"></script>
    <script src="/static/js/simplebar.min.js"></script>
    <script src="/static/js/jquery-ui.min.js"></script>
    <script src="/static/js/moment.js"></script>
    <script src="/static/plugins/daterangepicker/daterangepicker.js"></script>

    <script src="/static/plugins/apex-charts/apexcharts.min.js"></script>
    <script src="/static/plugins/jvectormap/jquery-jvectormap-2.0.2.min.js"></script>
    <script src="/static/plugins/jvectormap/jquery-jvectormap-us-aea-en.js"></script>
    <script src="/static/pages/jquery.analytics_dashboard.init.js"></script>

    <!-- App js -->
    <script src="/static/js/app.js"></script>
    <script>
      $(document).ready(function () {
        // Function to show/hide the "Add more" button and options based on the selected field type
        function toggleOptionsVisibility() {
          var fieldType = $('#form_type').val();
          var fileDiv = $('#no_of_files_div');
          var optionsDiv = $('#option_div_form');

          // Hide the "Add more" button and options initially
          $('#add_more_option').hide();
          $('#form_type_options').hide();
          fileDiv.hide();

          // Hide the optionsDiv for all field types except Dropdown, Checkbox, and Radio
          optionsDiv.hide();

          // Show the "Add more" button and options for selected field types
          if (fieldType === 'Dropdown' || fieldType === 'Checkbox' || fieldType === 'Radio') {
            $('#add_more_option').show();
            $('#form_type_options').show();
            optionsDiv.show(); // Show optionsDiv for these field types
          } else if (fieldType === 'File') {
            fileDiv.show();
            optionsDiv.show(); // Show optionsDiv for File field type
          }
        }
        // Event listener for the field type dropdown change
        $('#form_type').change(function () {
          toggleOptionsVisibility();
        });

        // Event listener for the "Add more" button
        $('#add_more_option').click(function (e) {
          e.preventDefault();

          var fieldType = $('#form_type').val();
          var maxOptions = 5; // Maximum number of options to add

          if (fieldType === 'Dropdown' || fieldType === 'Checkbox' || fieldType === 'Radio') {
            var optionsCount = $('#form_type_options input.form-control').length;
            if (optionsCount < maxOptions) {
              var newOption = `
                      <div class="row mt-2">
                        <div class="col-sm-9">
                          <input type="text" class="form-control" name="options[]" value="" placeholder="Option">
                        </div>
                        <div class="col-sm-3 text-right">
                          <a href="javascript:void(0)" class="btn btn-flat btn-default remove_option"><i class="fa fa-minus"></i> Remove</a>
                        </div>
                      </div>
                    `;
              $('#form_type_options').append(newOption);
            } else {
              alert('You can only add up to ' + maxOptions + ' options.');
            }
          }
        });

        // Event listener to remove an option
        $(document).on('click', '.remove_option', function (e) {
          e.preventDefault();
          $(this).closest('.row').remove();
        });

        // Initially toggle visibility based on the selected field type
        toggleOptionsVisibility();
      });
    </script>
    <script>$('.datepicker').datepicker(); </script>



    <script>
      function showToast() {
        var form = document.getElementById('myForm');

        // Simulate form submission success
        // Replace this with actual form submission logic

        // Assuming the form submission is successful
        $('#notification-toast').addClass('show');
        setTimeout(function () {
          $('#notification-toast').removeClass('show');
        }, 5000);  // Hide the toast after 5 seconds
      }
    </script>
   
    <script
    src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.4/Chart.js">
    </script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <script>
        const barColors = ["#8B0000", "#006400", "#000080", "#FF8C00"];
    
        const createBarChart = (ctx, labels, data) => {
            new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: labels,
                    datasets: [{
                        label: 'Distribution',
                        data: data,
                        backgroundColor: barColors,
                        borderColor: barColors,
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        x: {
                            grid: {
                                display: false
                            }
                        },
                        y: {
                            beginAtZero: true,
                            ticks: {
                                stepSize: 1
                            }
                        }
                    },
                    plugins: {
                        legend: {
                            display: false
                        }
                    }
                }
            });
        };
    
        document.addEventListener("DOMContentLoaded", function () {
            const ctx = document.getElementById('myChart');
            const designationLabels = ["FWP", "Supervisor", "City Manager", "Warehouse Executive"];
            const designationData = [{{ cFWP }}, {{ cSUP }}, {{ cCM }}, {{ cWE }}];
            createBarChart(ctx, designationLabels, designationData);
    
            const ctx1 = document.getElementById('myChart1');
            const statusLabels = ["Working", "Not Working", "Under Evaluation", "Selection In Process", "Rejected", "Selected"];
            const statusData = [{{ cW }}, {{ cNW }}, {{ cUE }}, {{ cSIP }} , {{ cRe }} , {{ cSe }}];
            createBarChart(ctx1, statusLabels, statusData);
        });
    </script>
    
    
    
    <script>
        // Wrap the JavaScript code inside a function that runs when the page is loaded
        document.addEventListener("DOMContentLoaded", function () {
            const ctx2 = document.getElementById('myChart2');
    
            const barColors = [
                "#b91d47",
                "#00aba9",
                "#2b5797",
                "#e8c3b9",
                "#1e7145",
                "#1e7189"
            ];
    
            new Chart(ctx2, {
                type: "pie",
                data: {
                    labels: ["MI", "NOW", "LAMPS"],
                    datasets: [{
                        backgroundColor: barColors,
                        data: [{{ cMI }}, {{ cNOW }}, {{ cLAMPS }}],
                  }]
                },
               
              });
            });
    </script>
    
    {% block js %}
      
    {% endblock js %}
      
</body>

</html>